<!doctype html>

<html>

<head> 
<meta charset="UTF-8">
</head>
<script src="resources/socket.io-client/dist/socket.io.js"></script>
<script src="resources/jquery/dist/jquery.js"></script>

<body>
	<div id="chatDiv">Texte</div>
	<FORM id="form1">
		<TEXTAREA id="txtZone" name="entreeChat" rows=4 cols=40>Entrez votre texte ...</TEXTAREA>
		<input type="submit" value="Envoyer"></submit>
	</FORM>
</body>

<script>
	var socket   = io();
	var textZone = $('#txtZone');
	var chatDiv  = $('#chatDiv');

	socket.on('printLog', function(data) {
		console.log(data);	
	});
	
	socket.on('majChat', function(data) {
		console.log("majChat");
		console.log(data);
		chatDiv.html(chatDiv.html() + "<br/>" + data.pseudo + ": " + data.message);
	});

	$('#form1').on('submit', function(e){
		e.preventDefault();
		var msg = textZone.val();
		socket.emit('evt1', { pseudo:"Me", message:msg });
		console.log(msg);
	});
	
</script>

</html>


